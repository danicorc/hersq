<mat-card class="myCard">
  <mat-card-title>Formulario</mat-card-title>
  <form class="hersq-form">
    <mat-form-field class="hersq-full-width">
      <input matInput [(ngModel)]="payload.company" name="company" type="text" placeholder="Nombre de la empresa">
    </mat-form-field>

    <mat-form-field class="hersq-full-width">
      <input matInput [(ngModel)]="payload.employeeName" name="name" type="text" placeholder="Nombre completo">
    </mat-form-field>

    <mat-form-field class="hersq-full-width">
      <input matInput [(ngModel)]="payload.city" name="city" type="text" placeholder="Ciudad">
    </mat-form-field>

    <mat-form-field class="hersq-full-width">
      <input matInput [(ngModel)]="payload.id" name="document" type="number" placeholder="Cédula">
    </mat-form-field>

    <mat-form-field class="hersq-full-width">
      <input matInput [(ngModel)]="payload.age" name="age" type="number" placeholder="Edad" min="0" max="99">
    </mat-form-field>

    <mat-form-field class="example-full-width">
      <input matInput [matDatepicker]="startDate" placeholder="Fecha">
      <mat-datepicker-toggle matSuffix [for]="startDate"></mat-datepicker-toggle>
      <mat-datepicker touchUi="true" #startDate></mat-datepicker>
    </mat-form-field>

    <div fxLayout="row">
      <mat-form-field fxLayout="column">
        <input matInput [(ngModel)]="payload.hour" name="hour" type="number" placeholder="hh" min="0" max="23">
      </mat-form-field>

      <mat-form-field fxLayout="column">
        <input matInput [(ngModel)]="payload.min" name="min" type="number" placeholder="mm" min="0" max="59">
      </mat-form-field>
    </div>

    <mat-form-field class="hersq-full-width">
      <input matInput [(ngModel)]="payload.jobPosition" name="jobTitle" type="text" placeholder="Cargo del Trabajador">
    </mat-form-field>

    <mat-form-field class="hersq-full-width">
      <mat-select [(ngModel)]="payload.area" name="area" placeholder="Área">
        <mat-option *ngFor="let area of areas" [value]="area.value">
          {{ area.viewValue }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field class="hersq-full-width">
      <input matInput [(ngModel)]="payload.headquarter" name="headquarters" type="text" placeholder="Sede">
    </mat-form-field>

    <mat-form-field class="hersq-full-width">
      <input matInput [(ngModel)]="payload.phone" name="telephone" type="text" placeholder="Teléfono">
    </mat-form-field>

    <mat-form-field class="hersq-full-width">
      <input matInput [(ngModel)]="payload.cellphone" name="cellphone" type="number" placeholder="Celular">
    </mat-form-field>

    <mat-form-field class="hersq-full-width">
      <input matInput [(ngModel)]="payload.eps" name="eps" type="text" placeholder="EPS">
    </mat-form-field>

    <mat-form-field class="hersq-full-width">
      <input matInput [(ngModel)]="payload.arl" name="arl" type="text" placeholder="ARL">
    </mat-form-field>

    <mat-form-field class="hersq-full-width">
      <mat-select [(ngModel)]="payload.exam" name="exam" placeholder="Tipo de examen">
        <mat-option *ngFor="let exam of exams" [value]="exam.value">
          {{ exam.viewValue }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field class="hersq-full-width">
      <input matInput [(ngModel)]="payload.examOrdered" name="pastExams" type="string" placeholder="Examenes realizados">
    </mat-form-field>

    <mat-form-field class="hersq-full-width">
      <textarea matInput [(ngModel)]="payload.aptitudeDesc" name="qualyInfo" type="string"
                placeholder="Descripciónd de la aptitude"></textarea>
    </mat-form-field>

    <!--Examen Pre ingreso-->
    <div *ngIf="payload && payload.exam === exams[0].value">
      <mat-form-field class="hersq-full-width">
        <mat-select [(ngModel)]="payload.aptitude" name="aptitude" placeholder="Aptitude para examen de ingreso">
          <mat-option *ngFor="let aptitude of aptitudes" [value]="aptitude.value">
            {{ aptitude.viewValue }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <!--Examen periódico-->
    <div *ngIf="payload && payload.exam === exams[1].value">
      <mat-form-field class="hersq-full-width">
        <textarea matInput [(ngModel)]="payload.jobMedicalRecommendation" name="medicalConcept" placeholder="Concepto médico"></textarea>
      </mat-form-field>
      <mat-form-field class="hersq-full-width">
        <input matInput [(ngModel)]="payload.limitations" name="medicalConcept" type="text" placeholder="Limitaciones">
      </mat-form-field>
      <mat-form-field class="hersq-full-width">
        <textarea matInput [(ngModel)]="payload.limitationsDescription" name="medicalConcept" placeholder="Descripción Limitaciones"></textarea>
      </mat-form-field>
    </div>

    <!--Examen Egreso-->
    <div *ngIf="payload && payload.exam === exams[2].value">
      <mat-form-field class="hersq-full-width">
        <textarea matInput [(ngModel)]="payload.jobMedicalRecommendation" name="medicalConcept" placeholder="Concepto médico"></textarea>
      </mat-form-field>
    </div>

    <!--Aptitudes-->
    <mat-form-field class="hersq-full-width">
      <mat-select [(ngModel)]="payload.workInHeightsAptitude" name="heights" placeholder="Apto para trabajos en altura">
        <mat-option *ngFor="let answer of answers" [value]="answer.value">
          {{ answer.viewValue }}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <mat-checkbox class="hersq-full-width" [(ngModel)]="payload.workInHeights" name="workInHeights">
      Desarrolla trabajos en altura
    </mat-checkbox>
    <!---->
    <mat-form-field class="hersq-full-width">
      <mat-select [(ngModel)]="payload.workInReduceSpaceAptitude" name="confined" placeholder="Apto para trabajos en espacios confinados">
        <mat-option *ngFor="let answer of answers" [value]="answer.value">
          {{ answer.viewValue }}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <mat-checkbox class="hersq-full-width" [(ngModel)]="payload.workInReduceSpace" name="workInConfined">
      Desarrolla trabajos en espacios confinados
    </mat-checkbox>
    <!---->
    <mat-form-field class="hersq-full-width">
      <mat-select [(ngModel)]="payload.workWithChemicalSubstancesAptitude" name="chemical" placeholder="Apto para manejo de sustancias químicas">
        <mat-option *ngFor="let answer of answers" [value]="answer.value">
          {{ answer.viewValue }}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <mat-checkbox class="hersq-full-width" [(ngModel)]="payload.workWithChemicalSubstances" name="workInChemicals">
      Desarrolla trabajo con sustancias químicas
    </mat-checkbox>
    <!---->
    <mat-form-field class="hersq-full-width">
      <mat-select [(ngModel)]="payload.driverAptitude" name="driver" placeholder="Apto para conducción de vehículos">
        <mat-option *ngFor="let answer of answers" [value]="answer.value">
          {{ answer.viewValue }}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <mat-checkbox class="hersq-full-width" [(ngModel)]="payload.driverWork" name="workInDriving">
      Desarrolla tareas conducción de vehículos
    </mat-checkbox>
    <!---->
    <!--<mat-form-field class="hersq-full-width">-->
      <!--<mat-select [(ngModel)]="payload.driverAptitude" name="chemical" placeholder="Apto para manejo de sustancias químicas">-->
        <!--<mat-option *ngFor="let answer of answers" [value]="answer.value">-->
          <!--{{ answer.viewValue }}-->
        <!--</mat-option>-->
      <!--</mat-select>-->
    <!--</mat-form-field>-->
    <mat-form-field class="hersq-full-width">
      <mat-select [(ngModel)]="payload.specialistExamRequired" name="specialistExamRequired" placeholder="Aplazado por condiciones que afectan el cargo">
        <mat-option *ngFor="let answer of yesNoQuestions" [value]="answer.value">
          {{ answer.viewValue }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field class="hersq-full-width">
      <mat-select [(ngModel)]="payload.disabledToWork" name="disabledToWork" placeholder="Condiciones de salud que interfieren con su capacidad para el cargo que aspira">
        <mat-option *ngFor="let answer of yesNoQuestions" [value]="answer.value">
          {{ answer.viewValue }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field class="hersq-full-width">
      <textarea matInput [(ngModel)]="payload.disabledToWorkDetail" name="disabledToWorkDetail" placeholder="Descripción de las limitaciones"></textarea>
    </mat-form-field>

    <mat-form-field class="hersq-full-width">
      <textarea matInput [(ngModel)]="payload.disabledToWorkRecommendations" name="disabledToWorkRecommendations" placeholder="Recomendación de las limitaciones"></textarea>
    </mat-form-field>

    <mat-form-field class="hersq-full-width">
      <input matInput [(ngModel)]="payload.specialistSignature" name="specialistSignature" type="text" placeholder="Firma del especialista">
    </mat-form-field>

    <mat-form-field class="hersq-full-width">
      <input matInput [(ngModel)]="payload.pacientSignature" name="pacientSignature" type="text" placeholder="Firma del paciente">
    </mat-form-field>

    <div fxLayout="row" (click)="save()">
      <button mat-raised-button color="primary">Enviar</button>
    </div>

  </form>
</mat-card>
